PART
{
	name = GenStrongbackTower
	module = Part
	author = AlphaMensae

MODEL
{
	model = AlphaDev/v2_General_Pads/GenStrongbackTower
	scale = 1, 1, 1
}

	rescaleFactor = 1

	node_stack_bottom = 0.0, -0.8, 0.0, 0.0, 1.0, 0.0, 4
	node_stack_bottom02 = 0.0, -1000, 0.0, 0.0, 0.0, -1.0, 0

	node_stack_connect01 = 0.65, 41.05, 0.0, 1.0, 0.0, 0.0, 2
	node_stack_connect02 = 0.65, 37.25, 0.0, 1.0, 0.0, 0.0, 2
	node_stack_connect03 = 0.65, 32.45, 0.0, 1.0, 0.0, 0.0, 2
	node_stack_connect04 = 0.65, 27.65, 0.0, 1.0, 0.0, 0.0, 2
	node_stack_connect05 = 0.65, 22.85, 0.0, 1.0, 0.0, 0.0, 2

	node_attach = 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0

	TechRequired = generalLaunchPad
	entryCost = 1000
	cost = 100
	category = Structural
	subcategory = 0

	title = Fallback Strongback Tower v2
	manufacturer = Alphadyne Construction Group
	description = A fallback-type service tower inspired by the transporter-erector used for the Falcon 9.  It has two methods of fallback retraction:  A simple one-step type which fully retracts the tower, and a two-step method in which the tower can be partially retracted by a small amount before launch, followed by a seprate fallback retract for liftoff. The one-step method includes integrated drop umbilicals, which can moved as a group up and down as desired, or turned off completely. The two-step method does not include umbilicals, as the tower is meant to be brought in close to the rocket. Both methods feature a separately open-close upper clamp, sized for 2.5m tanks, and it can be moved up and down as well using the deploy limit slider.  When the umbilicals are turned off, attach nodes for connecting separate umbilicals are turned on; these require the use of the Animated Attachment plugin in order to move with the tower.

	attachRules = 1,0,1,1,0

	mass = .1
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.3
	angularDrag = 2
	crashTolerance = 100
	breakingForce = 500000
	breakingTorque = 500000
	maxTemp = 2000 // = 3000

	fuelCrossFeed = False

	bulkheadProfiles = size4, srf

	tags = general pad launch tundra ghid falcon


MODULE
{
	name = ModuleB9PartSwitch
	moduleID = typeSwitch
	switcherDescription = Retract Method
	switcherDescriptionPlural = Retract Methods
	affectDragCubes = false

	SUBTYPE
	{
		name = One-Step

		transform = Tower
	}

	SUBTYPE
	{
		name = Two-Step

		transform = Tower_Alt
	}


}


MODULE
{
	name = ModuleB9PartSwitch
	moduleID = clampSwitch
	switcherDescription = Upper Clamp
	switcherDescriptionPlural = Upper Clamp Settings
	affectDragCubes = false

	SUBTYPE
	{
		name = On

		transform = Upper_Clamp
	}

	SUBTYPE
	{
		name = Off
	}


}


MODULE
{
	name = ModuleAnimateGeneric
	animationName = GenStrongbackClampDeploy
	allowDeployLimit = true
	revClampDirection = false		
	revClampSpeed = true		
	revClampPercent = true
}


MODULE
{
	name = ModuleB9PartSwitch
	moduleID = clampSwitch
	switcherDescription = 1-Step Umbilicals
	switcherDescriptionPlural = 1-Step Umbilical Settings
	affectDragCubes = false

	SUBTYPE
	{
		name = On

		transform = Umbilicals
	}

	SUBTYPE
	{
		name = Off

		node = connect01
		node = connect02
		node = connect03
		node = connect04
		node = connect05
	}


}


MODULE
{
	name = ModuleAnimateGeneric
	animationName = GenStrongbackUmbDeploy
	allowDeployLimit = true
	revClampDirection = false		
	revClampSpeed = true		
	revClampPercent = true
}


MODULE
{
	name = ModuleAnimateGeneric
	animationName = GenStrongbackClamp
	actionGUIName = Toggle Upper Clamp
	startEventGUIName = Open Upper Clamp
	endEventGUIName = Close Upper Clamp
}


MODULE
{
	name = ModuleAnimateGeneric
	animationName = GenStrongbackFallback
	actionGUIName = Toggle One-Step Tower
	startEventGUIName = One-Step Retract Tower
	endEventGUIName = One-Step Raise Tower
}


MODULE
{
	name = ModuleAnimatedDecoupler
	ejectionForce = 0
	staged = true
	explosiveNodeID = bottom02
	animationName = GenStrongbackFallbackCopy
	waitForAnimation = false 
	layer = 1
}


MODULE
{
	name = ModuleAnimateGeneric
	animationName = GenStrongback2StepA
	actionGUIName = Toggle Two-Step Partial Retract
	startEventGUIName = Two-Step Partial Retract Tower
	endEventGUIName = Two-Step Partial Extend Tower
}

MODULE
{
	name = ModuleAnimateGeneric
	animationName = GenStrongback2StepB
	actionGUIName = Toggle Two-Step Fallback Retract
	startEventGUIName = Two-Step Fallback Retract Tower
	endEventGUIName = Two-Step Raise Tower
}






}